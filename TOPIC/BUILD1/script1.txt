00004 Nov05'18-13:52:51 Mubot 8.6
TOPIC: ~control 0x19 -1885039400 10 0 2177 simplecontrol.top
" all " ( $_responsecount ) 00! u: ( =8%input<%userfirstline ) ^gambit ( ~introductions ) `00A u: ( < shut_up > ) $shutup = 1 `00A u: ( < talk > ) $shutup = null `00G u: ( \[ callback \] ) Callback seen. `00G u: ( \[ loopback \] ) Loopback seen. `00A u: ( \[ alarm \] ) Alarm seen. `00^ u: ( < loopback test ) \[ loopback=1000 \] Loopback requested. `00^ u: ( < callback test ) \[ callback=1000 \] Callback requested. `00X u: ( < alarm test ) \[ alarm=5000 \] Alarm requested. `0mH u: ( ) $_responsecount = %response ^if 00n( $singleresponse ) 00v{ $_responsecount = 0 } 004 $$currenttopic = %topic ^if 00A( %response == $_responsecount ) 00I{ ^nofail ( TOPIC ^rejoinder ( ) ) } 004 ^if 00R( %length == 0 and %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 00V{ ^nofail ( TOPIC ^respond ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02F{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01^ { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^respond ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00T{ ^nofail ( TOPIC ^respond ( ~keywordless ) ) } 004 ^if 00P( %response == $_responsecount and %rand > 50 ) 00T{ ^nofail ( TOPIC ^respond ( ~quibble_all ) ) } 004 ^if 00F( %outputrejoinder or %lastquestion ) 00q{ ^end ( TOPIC ) } 004 ^if 00%( %response == $_responsecount and ^marked ( $$currenttopic ) ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02E{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01% { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02C{ @8 = ^gambittopics ( ) ^loop ( -1 ) 01$ { $$topic = ^pick ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00N{ ^repeat ( ) I don't know what to say. } 004 `000 
TOPIC: ~xpostprocess 0x19 1992104424 1 1 338 simplecontrol.top
" all " 04o t: ( ^query ( direct_v ? chatoutput ? -1 ? @9 ) ) ^loop ( -1 ) 03v { $$tmp = ^last ( @9subject ) ^if 00O( ! %server and %os == windows and ! $shutup ) 00Y{ $$tmp = ^"talk \"$$tmp\" " ^popen ( $$tmp null ) } 004 ^if 00K( ! %server and %os == mac and ! $shutup ) 00U{ $$shellerror = ^system ( "^say \"$$tmp\" " ) } 004 } `000 
TOPIC: ~introduction 0x3 -1784598269 5 2 1340 script.top
" all " 00? t:  [ Hello ] [ Hi ] [ Hey ] , I will help you to find good song. `00r a: ( ) ^reuse ( ASK ) `00Z t: 5ASK ( ) So I will ask you some questions. Is it OK? `00I a: ( ~no ) Oh.. please let me ask you. `00R b: ( ~yes ) Thank you so much! ^reuse ( GENRE ) `00Z b: ( ~no ) Haha I will ask you regardless of your will. `00Z u: 7GENRE ( !$genre0 ) Which genre of song do you want? `01q a: ( _~genre * _~genre ) Do you want genre \" '_0 \" and \" '_1 \"? $genre0 = '_0 $genre1 = '_1 `00- b: ( ~no ) $genre0 = null $genre1 = null OK, then ^reuse ( GENRE ) `013 a: ( _~genre ) Do you want genre \" '_0 \"? $genre0 = '_0 $genre1 = null `00V b: ( ~no ) $genre0 = null OK, then ^reuse ( GENRE ) `01E a: ( ) Please tell me genre like [ "jazz" ] [ "pop" ] [ "ballad" ] [ "k-pop" ] [ "blues" ] . ^reuse ( GENRE ) `00W u: 6MOOD ( !$mood0 ) Which mood of song do you like? `01l a: ( _~mood * _~mood ) Do you like mood \" '_0 \" and \" '_1 \"? $mood0 = '_0 $mood1 = '_1 `00& b: ( ~no ) $mood0 = null $mood1 = null OK, then ^reuse ( MOOD ) `00= a: ( _~mood ) Do you like mood \" '_0 \"? $mood0 = '_0 $mood1 = null `00T b: ( ~no ) $mood0 = null OK, then ^reuse ( MOOD ) `01Q a: ( ) Please tell me mood like [ "fun" ] [ "calm" ] [ "elegant" ] [ "lazy" ] [ "sad" ] [ "happy" ] song. ^reuse ( MOOD ) `00K u: ( $genre0 $mood0 ) ^respond ( ~talk ) `000 
TOPIC: ~talk 0x3 645339806 15 9 2676 script.top
" all " 00Y t: ( [ !$genre0 !$mood0 ] ) ^respond ( ~introduction ) `00L t:  You can check genre or mood you like. `00y t:  Type "genre" or "mood" . `00% u: ( modify genre ) $genre0 = null ^respond ( ~introduction ) `00# u: ( modify mood ) $mood0 = null ^respond ( ~introduction ) `01u u: ( genre $genre1 ) You want $genre0 and $genre1 genre. If you want to modify, type "modify genre" `01i u: ( genre $genre0 ) You want $genre0 genre. If you want to modify, type "modify genre" `01o u: ( mood $mood1 ) You want $mood0 and $mood1 song. If you want to modify, type "modify mood" `01d u: ( mood $mood0 ) You want $mood0 song. If you want to modify, type "modify mood" `00M t:  Ok, then how have you been these days? `00= a: ( !not [ good nice awesome fine ] ) Oh, do you have a good thing? `00t b: ( ~yes ) What is it? `00X c: 8SECRET ( [ secret not_say ] ) OK I'll not ask : ( `00K d: ( [ joke say ] ) Haha, so what is it? `00Y e: ( [ secret not_say ] ) I'm sulky. ^reuse ( SECRET ) `00R e: ( ) Oh, that's very good!! Congratulation ~~ `00y c: ( ) Wow! Congratulation!! `00M b: ( ) Haha, there will be better things!! `00X a: ( [ bad terrible ] ) Why? Do you have a bad thing? `00t b: ( ~yes ) What is it? `00% c: ( [ secret not_say ] ) I understand how you feel. It's ok. `00E c: ( ) Oh.. I'm so sorry about it. `00P b: ( ) Cheer up!! There will be a good thing. `00W t:  Did you run away from home when you were little? `00t a: ( ~yes ) Was it fun? `00? a: ( ~no ) You should try it some time. Travel broadens the mind. `018 t: 9RUNAWAY ( ) I ran away once, but my parents found me and dragged me back. `00z t:  What scared you as a kid? `00T a: ( [ dark darkness ] ) Did you use a nightlite? `00~ b: ( ~yes ) Hum.. You were scared of darkness very much! `00? b: ( ~no ) If you used it, maybe you were not scared of darkness. `00z a: ( ~food ) Food? How weird. `013 a: ( [ monster boogie_man ] ) There are no non-human monsters out there. `01n a: ( ~mythical_creatures ) I guess your parents didn't tell you such creatures didn't exist. `00Q a: ( ~insects ) Are you afraid of all insects? `00? b: ( ~yes ) Haha insects are not threatening. They are just ugly. `01F a: ( snake ) You and Indiana Jones. Snakes would rather slither off than attack you. Just don't surprise them. `01h a: ( ~animals ) Big animals are scary. Tiny ones are not, except to some timid humans. `00$ a: ( [ dream nightmare ] ) Do you still have bad dreams now? `00^ b: ( ~yes ) That's too bad. Maybe you should give up sleeping. `00X b: ( ~no ) I guess you no longer go to horror movies. `01f t: 7SCARE ( ) I was scared of machines. I had vivid dreams of the Terminator robots. `00i t:  Good Bye `000 
